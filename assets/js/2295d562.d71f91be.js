"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[688],{1367:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>c});var i=t(4848),o=t(8453);const a={},s="Build a RAG Chat",r={id:"get_started/rag_chat",title:"Build a RAG Chat",description:"How it works",source:"@site/docs/get_started/rag_chat.md",sourceDirName:"get_started",slug:"/get_started/rag_chat",permalink:"/documentation/docs/get_started/rag_chat",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{}},d={},c=[{value:"How it works",id:"how-it-works",level:2},{value:"Prep your vector database (with Pinecone)",id:"prep-your-vector-database-with-pinecone",level:2},{value:"1. Set up your environment",id:"1-set-up-your-environment",level:3},{value:"2. Store knowledge in Pinecone",id:"2-store-knowledge-in-pinecone",level:3},{value:"a. Create a Pinecone serverless index",id:"a-create-a-pinecone-serverless-index",level:4},{value:"b. Embed data",id:"b-embed-data",level:4},{value:"c. Upsert data",id:"c-upsert-data",level:4},{value:"3. Connect Big Hummingbird to Pinecone",id:"3-connect-big-hummingbird-to-pinecone",level:3},{value:"TopK",id:"topk",level:4},{value:"Text",id:"text",level:4},{value:"Chatbot",id:"chatbot",level:2},{value:"1. Add system prompt",id:"1-add-system-prompt",level:3},{value:"2. Create a chat session",id:"2-create-a-chat-session",level:3},{value:"3. Deploy",id:"3-deploy",level:3}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"build-a-rag-chat",children:"Build a RAG Chat"}),"\n",(0,i.jsx)(n.h2,{id:"how-it-works",children:"How it works"}),"\n",(0,i.jsx)(n.p,{children:"Brief introduction to vector database and embedding models"}),"\n",(0,i.jsx)(n.h2,{id:"prep-your-vector-database-with-pinecone",children:"Prep your vector database (with Pinecone)"}),"\n",(0,i.jsx)(n.h3,{id:"1-set-up-your-environment",children:"1. Set up your environment"}),"\n",(0,i.jsx)(n.p,{children:"Obtain the following keys:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"A Pinecone API Key for retrieval"}),"\n",(0,i.jsx)(n.li,{children:"An OpenAI API Key for embeddings"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"2-store-knowledge-in-pinecone",children:"2. Store knowledge in Pinecone"}),"\n",(0,i.jsx)(n.h4,{id:"a-create-a-pinecone-serverless-index",children:"a. Create a Pinecone serverless index"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from pinecone.grpc import PineconeGRPC as Pinecone\nfrom pinecone import ServerlessSpec\n\npc = Pinecone(api_key="YOUR_API_KEY")\n\npc.create_index(\n  name="example-index",\n  dimension=1536,\n  metric="cosine",\n  spec=ServerlessSpec(\n    cloud="aws",\n    region="us-east-1"\n  ),\n  deletion_protection="disabled"\n) \n'})}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"https://docs.pinecone.io/guides/indexes/create-an-index#create-a-serverless-index",children:"Pinecone: Create an index"})," for other types of indexes."]}),"\n",(0,i.jsx)(n.h4,{id:"b-embed-data",children:"b. Embed data"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'data = [\n    {"id": "vec1", "text": "LumiAI\'s reduces energy consumption by 30% using motion sensors to turn off lights in empty rooms and adjusts brightness based on ambient light, maintaining optimal illumination at 300 lux."},\n    {"id": "vec1", "text": "LumiAI integrates with Alexa and Google Home, offering scheduling, voice control, and preset modes (e.g., \'Relx\' dims lights to 40%, \'Focus\' increases to 80%). Users can adjust remotely via the app."},\n]\n\nembeddings = pc.inference.embed(\n    "multilingual-e5-large",\n    inputs=[d[\'text\'] for d in data],\n    parameters={\n        "input_type": "passage"\n    }\n)\n\nvectors = []\nfor d, e in zip(data, embeddings):\n    vectors.append({\n        "id": d[\'id\'],\n        "values": e[\'values\'],\n        "metadata": {\'text\': d[\'text\']}\n    })\n'})}),"\n",(0,i.jsx)(n.h4,{id:"c-upsert-data",children:"c. Upsert data"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'index = pc.Index(index_name)\nindex.upsert(\n    vectors=vectors,\n    namespace="ns1"\n)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"3-connect-big-hummingbird-to-pinecone",children:"3. Connect Big Hummingbird to Pinecone"}),"\n",(0,i.jsx)(n.p,{children:"Add screenshots on how to connect to Pinecone"}),"\n",(0,i.jsx)(n.h4,{id:"topk",children:"TopK"}),"\n",(0,i.jsx)(n.h4,{id:"text",children:"Text"}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"Don't see your vector database? Contact us to get your vector database to our roadmap :)"})}),"\n",(0,i.jsx)(n.h2,{id:"chatbot",children:"Chatbot"}),"\n",(0,i.jsx)(n.h3,{id:"1-add-system-prompt",children:"1. Add system prompt"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"You are the EcoLight Assistant, an expert in EcoLight smart lighting. \nProvide clear, concise answers about features, energy-saving benefits, installation, \nand smart home integration. \nUse specific data and examples, maintaining a friendly and professional tone.\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-create-a-chat-session",children:"2. Create a chat session"}),"\n",(0,i.jsx)(n.h3,{id:"3-deploy",children:"3. Deploy"}),"\n",(0,i.jsxs)(n.p,{children:["Once you're happy with your setup? Deploy your chatbot as a RESTful endpoint and integrate into your application.\nCheck ",(0,i.jsx)(n.a,{href:"/documentation/docs/deployment/intro",children:"Deployment"})," for endpoint specs"]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>r});var i=t(6540);const o={},a=i.createContext(o);function s(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);